import React from 'react';
import StaticContainer from 'react-static-container';
import ElementsRenderer from './ElementsRenderer'; // These are intentionally not renderLoading, renderFetched, and renderFailure
// from Relay, because these don't quite correspond to those conditions.

export default function createRender(_ref) {
  var renderPending = _ref.renderPending,
      renderReady = _ref.renderReady,
      renderError = _ref.renderError;
  return function render(renderArgs) {
    var error = renderArgs.error,
        elements = renderArgs.elements;
    var element;

    if (error) {
      element = renderError ? renderError(renderArgs) : null;
    } else if (!elements) {
      element = renderPending ? renderPending(renderArgs) : undefined;
    } else if (renderReady) {
      element = renderReady(renderArgs);
    } else {
      element = /*#__PURE__*/React.createElement(ElementsRenderer, {
        elements: elements
      });
    }

    var hasElement = element !== undefined;
    return /*#__PURE__*/React.createElement(StaticContainer, {
      shouldUpdate: hasElement
    }, hasElement ? element : null);
  };
}